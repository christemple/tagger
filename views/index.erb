<html>
  <head>
    <title>Tagger</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
  </head>
  <body>
    <div><%= $tagger.count() %> records</div>

    <form id="selected_tag">
        <select name=tag>
            <% $tagger.distinct('tags').each do |distinct_tag| %>
                <option value="<%= distinct_tag %>"><%= distinct_tag %></option>
            <% end %>
        </select>
        <button>Submit</button>
    </form>

    <form id="tags" method="post" action="/">
        <button>Submit</button>
    </form>

    <script type="text/javascript">
        $('#selected_tag').submit(function(e){
            e.preventDefault();
            function add_tag_to_list(selected_tag) {
                $('#tags').prepend('<input name="selected_tags[]" type="text" value="' + selected_tag + '" />');
            }

            var selected_tag = $(this).find('option:selected').val();
            add_tag_to_list(selected_tag);
        });
    </script>

  </body>
</html>
